client_type = bootloader
#interrupt_boot_prompt = The default boot selection will start in
interrupt_boot_prompt = seconds to stop automatical booting
send_char = False
bootloader_timeout = 360

alternative_dir = /srv/ftp

image_boot_msg=Last login
image_boot_msg_timeout=360

boot_cmds = 1
boot_cmd_timeout = 800

#boot_cmds_ramdisk = expect Select Language,
#	    sendcontrol M,

boot_cmds_sas = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            expect "login:",
            sendline "root",
            expect "Password:",
            sendline "root"

boot_cmds_ramdisk = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D03",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip06-d03.dtb -a 100000",
            expect "Input the index",
            sendline "3",
            expect "succ",
            sendline "sfcerase 0x7C0000 0x10000",
            expect "OK",
            sendline "sfcwrite 0x100000 0x7C0000 0x10000",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            expect GNU GRUB,
            sendline c,
            expect grub>,
            sendline net_ls_addr,
            expect grub>,
            sendline "set root=(tftp,{SERVER_IP})",
            expect grub>,
            sendline "linux /download/Image_D03 rdinit=/init console=ttyS0,115200 earlycon=hisilpcuart,mmio,0xa01b0000,0,0x2f8 root=/dev/nfs rw nfsroot={SERVER_IP}:/targetNFS/ubuntu_for_deployment/ ip=::::::dhcp",
            expect grub>,
            sendline net_ls_addr,
            expect grub>,
            sendline boot,
            expect "login:",
            sendline "root",
            expect "Password:",
            sendline "root"

boot_cmds_nfs = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D03",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip06-d03.dtb -a 100000",
            expect "Input the index",
            sendline "3",
            expect "succ",
            sendline "sfcerase 0x7C0000 0x10000",
            expect "OK",
            sendline "sfcwrite 0x100000 0x7C0000 0x10000",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            expect "GNU GRUB",
            sendline c,
            expect grub>,
            sendline "set root=(tftp,{SERVER_IP})",
            expect grub>,
            sendline "linux /download/Image_D03 rdinit=/init console=ttyS0,115200 earlycon=hisilpcuart,mmio,0xa01b0000,0,0x2f8 root=/dev/nfs rw nfsroot={SERVER_IP}:{NFSROOTFS} ip=::::::dhcp",
            expect grub>,
            sendline boot,
            expect login,
            sendline root,
            expect Password,
            sendline "root"

boot_cmds_pxe = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D03",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip06-d03.dtb -a 100000",
            expect "Input the index",
            sendline "3",
            expect "succ",
            sendline "sfcerase 0x7C0000 0x10000",
            expect "OK",
            sendline "sfcwrite 0x100000 0x7C0000 0x10000",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            expect "GNU GRUB",
            sendline c,
            expect grub>,
            sendline "set root=(tftp,{SERVER_IP})",
            expect grub>,
            sendline "linux /download/Image_D03 rdinit=/init console=ttyS0,115200 earlycon=hisilpcuart,mmio,0xa01b0000,0,0x2f8 ip=::::::dhcp",
            expect grub>,
            sendline "initrd /download/mini-rootfs.cpio.gz",
            expect grub>,
            sendline boot

boot_options = 
    boot_cmds

[boot_cmds]
default = boot_cmds
