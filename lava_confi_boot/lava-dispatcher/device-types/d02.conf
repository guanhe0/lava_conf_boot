
client_type = bootloader
#interrupt_boot_prompt = The default boot selection will start in
interrupt_boot_prompt = seconds to stop automatical booting
send_char = False
bootloader_timeout = 240

alternative_dir = /srv/ftp

image_boot_msg=Last login
image_boot_msg_timeout=360

boot_cmds = 1
boot_cmd_timeout = 800

#boot_cmds_ramdisk = expect Select Language,
#	    sendcontrol M,
boot_cmds_sas = expect "Select Language",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            expect "command-line",
            sendcontrol "M",
            expect "login:",
            sendline "root",
            expect "Password:",
            sendline "root"

boot_cmds_sata = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D02",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/sata_image/Image -a 100000",
            expect "succ" ,
            sendline "norwfmem 100000 100000 1f00000",
            expect "OK",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/sata_image/hip05-d02.dtb -a 100000",
            expect "succ",
            sendline "spiwfmem 100000 300000 100000",
            expect "OK",
            expect "OK",
            sendline "exit",
            expect "Select Language",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Select Language",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            expect "login:",
            sendline "root",
            expect "Password:",
            sendline "root"

boot_cmds_ramdisk = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D02",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip05-d02.dtb -a 100000",
            expect "succ",
            sendline "spiwfmem 100000 300000 100000",
            expect "OK",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            expect GNU GRUB,
            sendline c,
            expect grub>,
            sendline net_ls_addr,
            expect grub>,
            sendline "set root=(tftp,{SERVER_IP})",
            expect grub>,
            sendline "linux /download/Image_D02 rdinit=/init console=ttyS0,115200 earlycon=uart8250,mmio32,0x80300000 root=/dev/nfs rw nfsroot={SERVER_IP}:/targetNFS/ubuntu_for_deployment/ ip=::::::dhcp",
            expect grub>,
            sendline net_ls_addr,
            expect grub>,
            sendline boot,
            expect "login:",
            sendline "root",
            expect "Password:",
            sendline "root"

boot_cmds_nfs = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D02",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip05-d02.dtb -a 100000",
            expect "succ",
            sendline "spiwfmem 100000 300000 100000",
            expect "OK",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            expect "GNU GRUB",
            sendline c,
            expect grub>,
            sendline "set root=(tftp,{SERVER_IP})",
            expect grub>,
            sendline "linux /download/Image_D02 rdinit=/init console=ttyS0,115200 earlycon=uart8250,mmio32,0x80300000 root=/dev/nfs rw nfsroot={SERVER_IP}:{NFSROOTFS} ip=::::::dhcp",
            expect grub>,
            sendline boot,
            expect login,
            sendline root,
            expect Password,
            sendline "root"

boot_cmds_pxe = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D02",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip05-d02.dtb -a 100000",
            expect "succ",
            sendline "spiwfmem 100000 300000 100000",
            expect "OK",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol M,
            expect "GNU GRUB",
            sendline c,
            expect grub>,
            sendline "set root=(tftp,{SERVER_IP})",
            expect grub>,
            sendline "linux /download/Image_D02 rdinit=/init console=ttyS0,115200 earlycon=uart8250,mmio32,0x80300000 ip=::::::dhcp",
            expect grub>,
            sendline  "initrd /download/mini-rootfs.cpio.gz",
            expect grub>,
            sendline "boot"

boot_cmds_norflash = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D02",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip05-d02.dtb -a 100000",
            expect "succ",
            sendline "spiwfmem 100000 300000 100000",
            expect "OK",
            expect "OK",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/Image_D02 -a 100000",
            expect "succ",
            sendline "norwfmem 0x100000 0x100000 0x1f00000",
            expect "OK",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/mini-rootfs.cpio.gz -a 100000",
            expect "succ",
            sendline "norwfmem 0x100000 0x2000000 0x4000000",
            expect "OK",
            sendline "exit",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "seconds to stop automatical booting",
            sendline "b",
            expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M"

boot_cmds_esl = expect "Move Highlight",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M",
            expect "D02",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/Image_D02 -a 0x80000",
            expect "succ" ,
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/hip05-d02.dtb -a 0x06000000",
            expect "succ",
            sendline "provision {SERVER_IP} -u htsat -p hello8943217 -f ci_files/mini-rootfs.cpio.gz -a 0x07000000",
            expect "succ",
            sendline "exit",
            expect "Select Language",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "[",
            sendline "[B",
            sendcontrol "M",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "[",
            sendline "[A",
            sendcontrol "M"


boot_options = 
    boot_cmds

[boot_cmds]
default = boot_cmds
